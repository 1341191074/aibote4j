# âš¡ å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ 5 åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### âœ… å‰ç½®è¦æ±‚

```bash
# æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
java -version     # éœ€è¦ Java 21+
mvn -version      # éœ€è¦ Maven 3.8+
git --version     # éœ€è¦ Git
```

### 1ï¸âƒ£ è·å–ä»£ç 

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/aibote/aibote4j.git
cd aibote4j

# æŸ¥çœ‹é¡¹ç›®ç»“æ„
ls -la
```

### 2ï¸âƒ£ ç¼–è¯‘é¡¹ç›®

```bash
# æ ‡å‡†ç¼–è¯‘ï¼ˆæ¨èï¼‰
mvn clean compile

# å¿«é€Ÿç¼–è¯‘ï¼ˆè·³è¿‡æµ‹è¯•ï¼‰
mvn clean compile -DskipTests

# éªŒè¯ç¼–è¯‘æˆåŠŸ
echo $?  # Linux/macOS: è¾“å‡º 0 è¡¨ç¤ºæˆåŠŸ
```

### 3ï¸âƒ£ åˆ›å»ºç¬¬ä¸€ä¸ªè‡ªåŠ¨åŒ–ä»»åŠ¡

åˆ›å»ºæ–‡ä»¶ `FirstAutomationTask.java`ï¼š

```java
package net.aibote.examples;

import lombok.extern.slf4j.Slf4j;
import net.aibote.Application;
import net.aibote.task.TaskEngine;
import net.aibote.task.impl.NotepadAutomationTask;

@Slf4j
public class FirstAutomationTask {
    
    public static void main(String[] args) {
        log.info("å¼€å§‹æ³¨å†Œè‡ªåŠ¨åŒ–ä»»åŠ¡...");
        
        // åˆ›å»ºå¹¶æ³¨å†Œä»»åŠ¡
        NotepadAutomationTask task = NotepadAutomationTask.builder()
            .taskName("æˆ‘çš„ç¬¬ä¸€ä¸ªè‡ªåŠ¨åŒ–ä»»åŠ¡")
            .scriptName("First-Automation-Task")
            .description("è‡ªåŠ¨åŒ–çš„è®°äº‹æœ¬æ“ä½œæ¼”ç¤º")
            .build();
        
        String taskId = TaskEngine.getInstance().registerTask("first-task", task);
        log.info("ä»»åŠ¡æ³¨å†ŒæˆåŠŸï¼ŒID: {}", taskId);
        
        // å¯åŠ¨æœåŠ¡ç«¯åº”ç”¨
        log.info("å¯åŠ¨æœåŠ¡ç«¯ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...");
        Application.main(args);
    }
}
```

### 4ï¸âƒ£ è¿è¡Œç¤ºä¾‹

#### æ–¹å¼1ï¼šIDEè¿è¡Œ
1. åœ¨IDEä¸­å³é”®ç‚¹å‡» `FirstAutomationTask.java`
2. é€‰æ‹© "Run FirstAutomationTask.main()"
3. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

#### æ–¹å¼2ï¼šå‘½ä»¤è¡Œè¿è¡Œ
```bash
# ç¼–è¯‘
mvn clean compile

# è¿è¡Œ
mvn exec:java -Dexec.mainClass="net.aibote.examples.FirstAutomationTask"
```

#### é¢„æœŸè¾“å‡º
```
[INFO] å¼€å§‹æ³¨å†Œè‡ªåŠ¨åŒ–ä»»åŠ¡...
[INFO] ä»»åŠ¡æ³¨å†ŒæˆåŠŸï¼ŒID: task_xxx
[INFO] å¯åŠ¨æœåŠ¡ç«¯ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...
```

## æ ¸å¿ƒæ¦‚å¿µ

### 1. é…ç½®ç®¡ç†

```java
// è·å–é…ç½®ç®¡ç†å™¨
ConfigManager configManager = ConfigManager.getInstance();

// è·å–é€šä¿¡é…ç½®
long timeout = configManager.getCommunicationConfig().getResponseTimeout();

// è·å–æ€§èƒ½é…ç½®
int maxConcurrency = configManager.getPerformanceConfig().getMaxConcurrency();
```

### 2. ä»»åŠ¡å¼•æ“ï¼ˆæ ¸å¿ƒæ–¹å¼ï¼‰

ä»»åŠ¡å¼•æ“æ˜¯ Aibote4J çš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†è‡ªåŠ¨åŒ–ä»»åŠ¡çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼š

```java
// 1. å®šä¹‰ä»»åŠ¡
NotepadAutomationTask task = NotepadAutomationTask.builder()
    .taskName("è®°äº‹æœ¬è‡ªåŠ¨åŒ–")
    .scriptName("Notepad-Bot")
    .description("è‡ªåŠ¨æŸ¥æ‰¾å¹¶æ“ä½œè®°äº‹æœ¬")
    .build();

// 2. æ³¨å†Œä»»åŠ¡
String taskId = TaskEngine.getInstance().registerTask("notepad-auto", task);

// 3. å¯åŠ¨æœåŠ¡ç«¯ï¼ˆå®¢æˆ·ç«¯è¿æ¥æ—¶è‡ªåŠ¨æ‰§è¡Œä»»åŠ¡ï¼‰
Application.main(new String[]{});
```

### 3. æ”¯æŒçš„å¹³å°ç±»å‹

- `BotFactory.BotType.WIN` - Windowsæ¡Œé¢è‡ªåŠ¨åŒ–
- `BotFactory.BotType.WEB` - Webæµè§ˆå™¨è‡ªåŠ¨åŒ–  
- `BotFactory.BotType.ANDROID` - Androidè®¾å¤‡è‡ªåŠ¨åŒ–

### 3. æ‰§è¡Œè„šæœ¬

```java
@Slf4j
public class MyScript extends AndroidBot {
    
    @Override
    public String getScriptName() {
        return "MyScript";
    }
    
    @Override
    public void doScript() {
        log.info("Script started");
        
        // æ‰§è¡Œæ“ä½œ
        this.sleep(1000);
        String info = this.getAndroidId();
        log.info("Device info: {}", info);
        
        log.info("Script completed");
    }
}
```

### 4. é”™è¯¯å¤„ç†

```java
try {
    bot.doScript();
} catch (CommandException e) {
    log.error("å‘½ä»¤æ‰§è¡Œå¤±è´¥: {}", e.getErrorMessage());
} catch (TimeoutException e) {
    log.error("æ‰§è¡Œè¶…æ—¶: {}", e.getErrorMessage());
} catch (Exception e) {
    log.error("æœªçŸ¥é”™è¯¯", e);
}
```

## å¸¸ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šåŸºç¡€ä»»åŠ¡æ³¨å†Œ

```java
@Slf4j
public class BasicTaskExample {
    
    public static void main(String[] args) {
        log.info("æ³¨å†ŒåŸºç¡€è‡ªåŠ¨åŒ–ä»»åŠ¡...");
        
        // åˆ›å»ºç®€å•çš„è®°äº‹æœ¬ä»»åŠ¡
        NotepadAutomationTask task = NotepadAutomationTask.builder()
            .taskName("åŸºç¡€è®°äº‹æœ¬ä»»åŠ¡")
            .scriptName("Basic-Notepad-Task")
            .description("ç®€å•çš„è®°äº‹æœ¬è‡ªåŠ¨åŒ–æ“ä½œ")
            .build();
        
        // æ³¨å†Œä»»åŠ¡
        String taskId = TaskEngine.getInstance().registerTask("basic-task", task);
        log.info("ä»»åŠ¡æ³¨å†Œå®Œæˆ: {}", taskId);
        
        // å¯åŠ¨æœåŠ¡
        Application.main(args);
    }
}
```

### ç¤ºä¾‹2ï¼šå¤šä»»åŠ¡æ³¨å†Œ

```java
@Slf4j
public class MultiTaskExample {
    
    public static void main(String[] args) {
        log.info("æ³¨å†Œå¤šä¸ªè‡ªåŠ¨åŒ–ä»»åŠ¡...");
        
        // æ³¨å†Œå¤šä¸ªä¸åŒç±»å‹çš„ä»»åŠ¡
        TaskEngine engine = TaskEngine.getInstance();
        
        // è®°äº‹æœ¬ä»»åŠ¡
        NotepadAutomationTask notepadTask = NotepadAutomationTask.builder()
            .taskName("è®°äº‹æœ¬ä»»åŠ¡")
            .scriptName("Notepad-Task")
            .build();
        engine.registerTask("notepad", notepadTask);
        
        // å¯ä»¥æ·»åŠ å…¶ä»–ç±»å‹çš„ä»»åŠ¡
        // Webè‡ªåŠ¨åŒ–ä»»åŠ¡ç¤ºä¾‹
        // Androidè‡ªåŠ¨åŒ–ä»»åŠ¡ç¤ºä¾‹
        
        log.info("æ‰€æœ‰ä»»åŠ¡æ³¨å†Œå®Œæˆï¼Œå½“å‰ä»»åŠ¡æ•°: {}", engine.getTaskCount());
        
        // å¯åŠ¨æœåŠ¡ç«¯
        Application.main(args);
    }
}
```

## é…ç½®æ–‡ä»¶

### é»˜è®¤é…ç½®ä½ç½®
1. `src/main/resources/bot-config.yml` (classpath)
2. `./bot-config.yml` (å½“å‰ç›®å½•)
3. ç¯å¢ƒå˜é‡ `AIBOTE_CONFIG` æŒ‡å®šçš„è·¯å¾„

### é…ç½®ç¤ºä¾‹

åˆ›å»º `src/main/resources/bot-config.yml`ï¼š

```yaml
communication:
  responseTimeout: 2000
  delayResponseTimeout: 6000
  retryTimes: 3
  retryInterval: 500
  connectionPoolSize: 10

performance:
  maxConcurrency: 100
  threadPoolSize: 10

logging:
  level: INFO

security:
  enableValidation: true
```

### ç¯å¢ƒå˜é‡è¦†ç›–

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®
export AIBOTE_RESPONSE_TIMEOUT=3000
export AIBOTE_MAX_CONCURRENCY=200

# è¿è¡Œåº”ç”¨
java -jar aibote.jar
```

## é¡¹ç›®ç»“æ„è¯´æ˜

```
aibote4j/
â”œâ”€â”€ sdk-common/              # å…¬å…±å·¥å…·å’Œé…ç½®
â”‚   â”œâ”€â”€ security/            # å‚æ•°éªŒè¯
â”‚   â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”‚   â””â”€â”€ config/              # é…ç½®ç®¡ç†
â”‚
â”œâ”€â”€ sdk-core/                # æ ¸å¿ƒSDK
â”‚   â”œâ”€â”€ sdk/                 # æœºå™¨äººåŸºç±»
â”‚   â”œâ”€â”€ factory/             # å·¥å‚ç±»
â”‚   â”œâ”€â”€ exception/           # å¼‚å¸¸å®šä¹‰
â”‚   â””â”€â”€ handler/             # ç¼“å­˜å’Œè¿½è¸ªå¤„ç†å™¨
â”‚
â””â”€â”€ sdk-server/              # æœåŠ¡ç«¯
    â”œâ”€â”€ handler/             # è¯·æ±‚å¤„ç†
    â”œâ”€â”€ server/              # æœåŠ¡å™¨å®ç°
    â””â”€â”€ examples/            # ç¤ºä¾‹ä»£ç 
```

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æ·»åŠ æ—¥å¿—ï¼Ÿ

**A1**: æ·»åŠ  `@Slf4j` æ³¨è§£å¹¶ä½¿ç”¨ `log` å¯¹è±¡ï¼š

```java
@Slf4j
public class MyBot {
    public void doSomething() {
        log.debug("è°ƒè¯•ä¿¡æ¯");
        log.info("ä¸€èˆ¬ä¿¡æ¯");
        log.warn("è­¦å‘Šä¿¡æ¯");
        log.error("é”™è¯¯ä¿¡æ¯", exception);
    }
}
```

### Q2: å¦‚ä½•è°ƒæ•´è¶…æ—¶æ—¶é—´ï¼Ÿ

**A2**: è®¾ç½®ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ï¼š

```bash
# ç¯å¢ƒå˜é‡
export AIBOTE_RESPONSE_TIMEOUT=5000

# æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­
communication:
  responseTimeout: 5000
```

### Q3: å¦‚ä½•è¿è¡Œå¤šä¸ªæœºå™¨äººï¼Ÿ

**A3**: ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼š

```java
for (int i = 0; i < 5; i++) {
    int index = i;
    Thread.ofVirtual().start(() -> {
        var bot = BotFactory.builder()
            .withBotType(BotFactory.BotType.ANDROID)
            .withScriptName("Bot-" + index)
            .build();
        // bot.doScript();
    });
}
```

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» [ä½¿ç”¨æŒ‡å—](../02-ä½¿ç”¨æŒ‡å—/README.md)
- ğŸ“š æŸ¥çœ‹ [APIå‚è€ƒ](../03-APIå‚è€ƒ/README.md)
- ğŸ“– æŸ¥çœ‹ [æ¶æ„è®¾è®¡](../04-é«˜çº§ä¸»é¢˜/01-æ¶æ„è®¾è®¡.md)
- ğŸ“ æŸ¥çœ‹ [æœ€ä½³å®è·µ](../04-é«˜çº§ä¸»é¢˜/02-æœ€ä½³å®è·µ.md)

## æ”¯æŒå’Œåé¦ˆ

- ğŸ“§ è”ç³»å¼€å‘å›¢é˜Ÿ
- ğŸ› æŠ¥å‘Šbug
- ğŸ’¡ å»ºè®®æ–°åŠŸèƒ½
- ğŸ“ æŠ€æœ¯æ”¯æŒ

---

**æœ€åæ›´æ–°**: 2026-01-19