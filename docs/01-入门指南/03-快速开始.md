# âš¡ å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ 5 åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

### âœ… å‰ç½®è¦æ±‚

```bash
# æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
java -version     # éœ€è¦ Java 21+
mvn -version      # éœ€è¦ Maven 3.8+
git --version     # éœ€è¦ Git
```

### 1ï¸âƒ£ è·å–ä»£ç 

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/aibote/aibote4j.git
cd aibote4j

# æŸ¥çœ‹é¡¹ç›®ç»“æ„
ls -la
```

### 2ï¸âƒ£ ç¼–è¯‘é¡¹ç›®

```bash
# æ ‡å‡†ç¼–è¯‘ï¼ˆæ¨èï¼‰
mvn clean compile

# å¿«é€Ÿç¼–è¯‘ï¼ˆè·³è¿‡æµ‹è¯•ï¼‰
mvn clean compile -DskipTests

# éªŒè¯ç¼–è¯‘æˆåŠŸ
echo $?  # Linux/macOS: è¾“å‡º 0 è¡¨ç¤ºæˆåŠŸ
```

### 3ï¸âƒ£ åˆ›å»ºç¬¬ä¸€ä¸ªBotè„šæœ¬

åˆ›å»ºæ–‡ä»¶ `MyFirstBot.java`ï¼š

```java
package net.aibote.examples;

import lombok.extern.slf4j.Slf4j;
import net.aibote.sdk.factory.BotFactory;

@Slf4j
public class MyFirstBot extends BaseExample {
    
    public MyFirstBot() {
        super("MyFirstBot");
    }
    
    @Override
    public void run() {
        // åˆ›å»ºæœºå™¨äºº
        bot = BotFactory.builder()
            .withBotType(BotFactory.BotType.WIN)
            .withScriptName("FirstBot")
            .build();
        
        log.info("Bot created: {}", bot.getScriptName());
        
        // æ‰§è¡Œä¸€äº›æ“ä½œ
        bot.sleep(1000);
        
        log.info("Bot execution completed");
    }
    
    public static void main(String[] args) {
        MyFirstBot example = new MyFirstBot();
        example.runSafely();
    }
}
```

### 4ï¸âƒ£ è¿è¡Œç¤ºä¾‹

#### æ–¹å¼1ï¼šIDEè¿è¡Œ
1. åœ¨IDEä¸­å³é”®ç‚¹å‡» `MyFirstBot.java`
2. é€‰æ‹© "Run MyFirstBot.main()"
3. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

#### æ–¹å¼2ï¼šå‘½ä»¤è¡Œè¿è¡Œ
```bash
# ç¼–è¯‘
mvn clean compile

# è¿è¡Œ
mvn exec:java -Dexec.mainClass="net.aibote.examples.MyFirstBot"
```

#### é¢„æœŸè¾“å‡º
```
[INFO] åˆå§‹åŒ–ç¤ºä¾‹: MyFirstBot
[INFO] å¼€å§‹è¿è¡Œç¤ºä¾‹: MyFirstBot
[INFO] Bot created: FirstBot
[INFO] Bot execution completed
[INFO] ç¤ºä¾‹è¿è¡Œå®Œæ¯•: MyFirstBot
```

## æ ¸å¿ƒæ¦‚å¿µ

### 1. é…ç½®ç®¡ç†

```java
// è·å–é…ç½®ç®¡ç†å™¨
ConfigManager configManager = ConfigManager.getInstance();

// è·å–é€šä¿¡é…ç½®
long timeout = configManager.getCommunicationConfig().getResponseTimeout();

// è·å–æ€§èƒ½é…ç½®
int maxConcurrency = configManager.getPerformanceConfig().getMaxConcurrency();
```

### 2. åˆ›å»ºæœºå™¨äºº

#### ä½¿ç”¨Builderæ¨¡å¼ï¼ˆæ¨èï¼‰
```java
var bot = BotFactory.builder()
    .withBotType(BotFactory.BotType.WIN)      // é€‰æ‹©ç±»å‹
    .withScriptName("MyScript")                 // è®¾ç½®è„šæœ¬å
    .withChannelContext(ctx)                    // è®¾ç½®è¿æ¥
    .build();
```

#### æ”¯æŒçš„æœºå™¨äººç±»å‹
- `BotFactory.BotType.WIN` - Windowsè‡ªåŠ¨åŒ–
- `BotFactory.BotType.WEB` - Webè‡ªåŠ¨åŒ–
- `BotFactory.BotType.ANDROID` - Androidè‡ªåŠ¨åŒ–

### 3. æ‰§è¡Œè„šæœ¬

```java
@Slf4j
public class MyScript extends AndroidBot {
    
    @Override
    public String getScriptName() {
        return "MyScript";
    }
    
    @Override
    public void doScript() {
        log.info("Script started");
        
        // æ‰§è¡Œæ“ä½œ
        this.sleep(1000);
        String info = this.getAndroidId();
        log.info("Device info: {}", info);
        
        log.info("Script completed");
    }
}
```

### 4. é”™è¯¯å¤„ç†

```java
try {
    bot.doScript();
} catch (CommandException e) {
    log.error("å‘½ä»¤æ‰§è¡Œå¤±è´¥: {}", e.getErrorMessage());
} catch (TimeoutException e) {
    log.error("æ‰§è¡Œè¶…æ—¶: {}", e.getErrorMessage());
} catch (Exception e) {
    log.error("æœªçŸ¥é”™è¯¯", e);
}
```

## å¸¸ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šåŸºç¡€æœºå™¨äºº

```java
@Slf4j
public class BasicBotExample extends BaseExample {
    
    public BasicBotExample() {
        super("BasicBotExample");
    }
    
    @Override
    public void run() {
        // åˆ›å»ºWindowsæœºå™¨äºº
        bot = BotFactory.builder()
            .withBotType(BotFactory.BotType.WIN)
            .withScriptName("BasicBot")
            .build();
        
        log.info("Bot version: {}", bot.getVersion());
    }
    
    public static void main(String[] args) {
        BasicBotExample example = new BasicBotExample();
        example.runSafely();
    }
}
```

### ç¤ºä¾‹2ï¼šä½¿ç”¨ç¼“å­˜

```java
@Slf4j
public class CacheBotExample extends BaseExample {
    
    public CacheBotExample() {
        super("CacheBotExample");
    }
    
    @Override
    public void run() {
        ResponseCacheHandler cache = ResponseCacheHandler.getInstance();
        
        // ç¼“å­˜æ•°æ® (ä½¿ç”¨å†…å­˜ç¼“å­˜ï¼Œè‡ªåŠ¨TTLæ¸…ç†)
        byte[] data = new byte[]{1, 2, 3, 4, 5};
        cache.cache("mykey", data, 5 * 60 * 1000); // 5åˆ†é’ŸTTL
        
        // è·å–ç¼“å­˜
        byte[] cached = cache.get("mykey");
        log.info("ç¼“å­˜å¤§å°: {}", cache.getCacheSize());
    }
    
    public static void main(String[] args) {
        CacheBotExample example = new CacheBotExample();
        example.runSafely();
    }
}
```

## é…ç½®æ–‡ä»¶

### é»˜è®¤é…ç½®ä½ç½®
1. `src/main/resources/bot-config.yml` (classpath)
2. `./bot-config.yml` (å½“å‰ç›®å½•)
3. ç¯å¢ƒå˜é‡ `AIBOTE_CONFIG` æŒ‡å®šçš„è·¯å¾„

### é…ç½®ç¤ºä¾‹

åˆ›å»º `src/main/resources/bot-config.yml`ï¼š

```yaml
communication:
  responseTimeout: 2000
  delayResponseTimeout: 6000
  retryTimes: 3
  retryInterval: 500
  connectionPoolSize: 10

performance:
  maxConcurrency: 100
  threadPoolSize: 10

logging:
  level: INFO

security:
  enableValidation: true
```

### ç¯å¢ƒå˜é‡è¦†ç›–

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®
export AIBOTE_RESPONSE_TIMEOUT=3000
export AIBOTE_MAX_CONCURRENCY=200

# è¿è¡Œåº”ç”¨
java -jar aibote.jar
```

## é¡¹ç›®ç»“æ„è¯´æ˜

```
aibote4j/
â”œâ”€â”€ sdk-common/              # å…¬å…±å·¥å…·å’Œé…ç½®
â”‚   â”œâ”€â”€ security/            # å‚æ•°éªŒè¯
â”‚   â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”‚   â””â”€â”€ config/              # é…ç½®ç®¡ç†
â”‚
â”œâ”€â”€ sdk-core/                # æ ¸å¿ƒSDK
â”‚   â”œâ”€â”€ sdk/                 # æœºå™¨äººåŸºç±»
â”‚   â”œâ”€â”€ factory/             # å·¥å‚ç±»
â”‚   â”œâ”€â”€ exception/           # å¼‚å¸¸å®šä¹‰
â”‚   â””â”€â”€ handler/             # ç¼“å­˜å’Œè¿½è¸ªå¤„ç†å™¨
â”‚
â””â”€â”€ sdk-server/              # æœåŠ¡ç«¯
    â”œâ”€â”€ handler/             # è¯·æ±‚å¤„ç†
    â”œâ”€â”€ server/              # æœåŠ¡å™¨å®ç°
    â””â”€â”€ examples/            # ç¤ºä¾‹ä»£ç 
```

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æ·»åŠ æ—¥å¿—ï¼Ÿ

**A1**: æ·»åŠ  `@Slf4j` æ³¨è§£å¹¶ä½¿ç”¨ `log` å¯¹è±¡ï¼š

```java
@Slf4j
public class MyBot {
    public void doSomething() {
        log.debug("è°ƒè¯•ä¿¡æ¯");
        log.info("ä¸€èˆ¬ä¿¡æ¯");
        log.warn("è­¦å‘Šä¿¡æ¯");
        log.error("é”™è¯¯ä¿¡æ¯", exception);
    }
}
```

### Q2: å¦‚ä½•è°ƒæ•´è¶…æ—¶æ—¶é—´ï¼Ÿ

**A2**: è®¾ç½®ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ï¼š

```bash
# ç¯å¢ƒå˜é‡
export AIBOTE_RESPONSE_TIMEOUT=5000

# æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­
communication:
  responseTimeout: 5000
```

### Q3: å¦‚ä½•è¿è¡Œå¤šä¸ªæœºå™¨äººï¼Ÿ

**A3**: ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼š

```java
for (int i = 0; i < 5; i++) {
    int index = i;
    Thread.ofVirtual().start(() -> {
        var bot = BotFactory.builder()
            .withBotType(BotFactory.BotType.ANDROID)
            .withScriptName("Bot-" + index)
            .build();
        // bot.doScript();
    });
}
```

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» [ä½¿ç”¨æŒ‡å—](../02-ä½¿ç”¨æŒ‡å—/README.md)
- ğŸ“š æŸ¥çœ‹ [APIå‚è€ƒ](../03-APIå‚è€ƒ/README.md)
- ğŸ“– æŸ¥çœ‹ [æ¶æ„è®¾è®¡](../04-é«˜çº§ä¸»é¢˜/01-æ¶æ„è®¾è®¡.md)
- ğŸ“ æŸ¥çœ‹ [æœ€ä½³å®è·µ](../04-é«˜çº§ä¸»é¢˜/02-æœ€ä½³å®è·µ.md)

## æ”¯æŒå’Œåé¦ˆ

- ğŸ“§ è”ç³»å¼€å‘å›¢é˜Ÿ
- ğŸ› æŠ¥å‘Šbug
- ğŸ’¡ å»ºè®®æ–°åŠŸèƒ½
- ğŸ“ æŠ€æœ¯æ”¯æŒ

---

**æœ€åæ›´æ–°**: 2026-01-19